<!doctype html>
<html class="dark" lang="en">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Swiftclip</title>
    <script src="tailwind.js"></script>
    <style>
      /* Set popup dimensions */
      html,
      body {
        width: 800px;
        height: 600px;
        margin: 0;
        padding: 0;
      }

      body {
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        background-color: var(--bg-body);
        color: var(--text-body);
        overflow: hidden;
      }

      :root {
        --bg-body: #ffffff;
        --text-body: #000000;
        --border-col: #e5e7eb;
        --scrollbar-thumb: #d1d5db;
        --hover-row: rgba(0, 0, 0, 0.05);
        --selected-row: #bfdbfe;
      }

      html.dark {
        --bg-body: #1e1e1e;
        --text-body: #ffffff;
        --border-col: #323232;
        --scrollbar-thumb: #3f3f3f;
        --hover-row: rgba(255, 255, 255, 0.05);
        --selected-row: #0058d1;
      }

      .column-border {
        border-right: 1px solid var(--border-col);
      }

      .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
      }

      .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }

      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: var(--scrollbar-thumb);
        border-radius: 10px;
        border: 2px solid transparent;
        background-clip: content-box;
      }

      .item-row {
        display: flex;
        align-items: center;
        padding: 6px 12px;
        cursor: default;
        user-select: none;
        transition: background-color 0.15s;
      }

      .item-row:hover:not(.selected) {
        background-color: var(--hover-row);
      }

      .item-row.selected {
        background-color: var(--selected-row);
      }

      /* Material Icons replacement - using Unicode symbols */
      .icon {
        width: 18px;
        height: 18px;
        display: inline-block;
        margin-right: 8px;
      }

      .icon-folder::before {
        content: "üìÅ";
      }
      .icon-doc::before {
        content: "üìÑ";
      }
      .icon-search::before {
        content: "üîç";
      }
      .icon-add::before {
        content: "+";
        font-weight: bold;
      }
    </style>
  </head>
  <body class="overflow-hidden">
    <div class="flex flex-col h-screen">
      <!-- Header -->
      <div
        class="h-12 bg-gray-100 dark:bg-mac-dark border-b border-gray-200 dark:border-mac-border flex items-center px-4 gap-4"
      >
        <div class="flex items-center">
          <span
            class="text-xl font-extrabold text-gray-800 dark:text-white/90"
            style="font-family: &quot;Work Sans&quot;, sans-serif"
            >Swift Clip</span
          >
        </div>
        <div class="flex-1 flex justify-end items-center gap-3">
          <div class="relative">
            <button
              id="add-btn"
              class="p-0 hover:bg-gray-200 dark:hover:bg-white/10 rounded-[25px] h-7 w-7 text-gray-500 dark:text-white/60 flex items-center justify-center"
            >
              <span class="icon-add"></span>
            </button>
            <div
              id="add-dropdown"
              class="hidden absolute right-0 top-full mt-1 w-32 bg-white dark:bg-[#2d2d2d] border border-gray-200 dark:border-white/10 rounded-[15px] shadow-lg z-50 py-1"
            >
              <button
                id="add-folder-btn"
                class="w-full text-left px-3 py-1.5 text-[15px] text-gray-800 dark:text-white hover:bg-primary hover:text-white transition-colors rounded-[15px]"
              >
                Add Folder
              </button>
              <button
                id="add-clip-btn"
                class="w-full text-left px-3 py-1.5 text-[15px] text-gray-800 dark:text-white hover:bg-primary hover:text-white transition-colors rounded-[15px]"
              >
                Add Clip
              </button>
            </div>
          </div>

          <div class="relative w-64">
            <input
              id="search-input"
              class="w-full bg-white dark:bg-white/5 border border-gray-300 dark:border-white/10 rounded-[15px] px-3 py-1 text-[15px] text-gray-900 dark:text-white focus:outline-none focus:ring-1 focus:ring-primary placeholder-gray-500 dark:placeholder-white/50"
              placeholder="Search"
              type="text"
            />
            <div
              id="search-results"
              class="hidden absolute left-0 right-0 top-full mt-1 w-full bg-white dark:bg-[#2d2d2d] border border-gray-200 dark:border-white/10 rounded-[15px] shadow-lg z-50 py-1"
            >
              <!-- Search results will be injected here -->
            </div>
          </div>

          <button
            id="lock-btn"
            class="p-0 hover:bg-gray-200 dark:hover:bg-white/10 rounded-[25px] h-7 w-7 text-gray-500 dark:text-white/60 flex items-center justify-center transition-colors"
            title="Toggle Lock"
          ></button>

          <button
            id="theme-toggle"
            class="p-0 hover:bg-gray-200 dark:hover:bg-white/10 rounded-[25px] h-7 w-7 text-gray-500 dark:text-white/60 flex items-center justify-center transition-colors"
            title="Toggle Theme"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="hidden dark:block"
            >
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="block dark:hidden"
            >
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- Breadcrumb Bar -->
      <div
        id="breadcrumb-bar"
        class="h-8 bg-gray-100 dark:bg-mac-dark border-b border-gray-200 dark:border-mac-border flex items-center px-4 text-[15px] text-gray-600 dark:text-white/60 overflow-x-auto whitespace-nowrap custom-scrollbar"
      ></div>

      <!-- Main Content Area -->
      <div
        id="columns-container"
        class="flex-1 flex overflow-x-auto custom-scrollbar bg-gray-50 dark:bg-mac-column"
      >
        <!-- Preview Area -->
        <div
          id="preview-panel"
          class="flex-1 min-w-[200px] bg-gray-50 dark:bg-mac-column flex flex-col items-center justify-center text-gray-400 dark:text-white/10"
        >
          <p class="text-[15px] mt-4 font-medium">Select a snippet</p>
        </div>
      </div>

      <!-- Footer -->
      <div
        class="h-6 bg-gray-100 dark:bg-mac-dark flex items-center px-4 justify-between text-[15px] text-gray-500 dark:text-white/40"
      >
        <span id="item-count">0 items</span>
        <span>Storage: 45% used</span>
      </div>
    </div>

    <!-- Clip Creation Modal -->
    <div
      id="clip-modal"
      class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50"
    >
      <div
        class="bg-white dark:bg-[#2d2d2d] border border-gray-200 dark:border-white/10 rounded-[15px] p-4 w-80 shadow-2xl"
      >
        <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-3">
          New Clip
        </h3>
        <div class="space-y-3">
          <input
            id="clip-subject"
            type="text"
            placeholder="Subject"
            class="w-full bg-gray-50 dark:bg-black/20 border border-gray-300 dark:border-white/10 rounded-[15px] px-3 py-1.5 text-[15px] text-gray-900 dark:text-white focus:outline-none focus:border-primary placeholder-gray-500 dark:placeholder-white/30"
          />
          <textarea
            id="clip-description"
            placeholder="Description"
            rows="4"
            class="w-full bg-gray-50 dark:bg-black/20 border border-gray-300 dark:border-white/10 rounded-[15px] px-3 py-1.5 text-[15px] text-gray-900 dark:text-white focus:outline-none focus:border-primary placeholder-gray-500 dark:placeholder-white/30 resize-none"
          ></textarea>
        </div>
        <div class="flex justify-end gap-2 mt-4">
          <button
            id="clip-cancel"
            class="px-3 py-1.5 text-[15px] text-gray-600 dark:text-white/70 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/10 rounded-[15px] transition-colors"
          >
            Cancel
          </button>
          <button
            id="clip-save"
            class="px-3 py-1.5 text-[15px] bg-primary text-white rounded-[15px] hover:bg-blue-600 transition-colors"
          >
            Save
          </button>
        </div>
      </div>
    </div>

    <!-- Folder Creation Modal -->
    <div
      id="folder-modal"
      class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50"
    >
      <div
        class="bg-white dark:bg-[#2d2d2d] border border-gray-200 dark:border-white/10 rounded-[15px] p-4 w-80 shadow-2xl"
      >
        <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-3">
          New Folder
        </h3>
        <div class="space-y-3">
          <input
            id="folder-name"
            type="text"
            placeholder="Folder Name"
            class="w-full bg-gray-50 dark:bg-black/20 border border-gray-300 dark:border-white/10 rounded-[15px] px-3 py-1.5 text-[15px] text-gray-900 dark:text-white focus:outline-none focus:border-primary placeholder-gray-500 dark:placeholder-white/30"
          />
        </div>
        <div class="flex justify-end gap-2 mt-4">
          <button
            id="folder-cancel"
            class="px-3 py-1.5 text-[15px] text-gray-600 dark:text-white/70 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/10 rounded-[15px] transition-colors"
          >
            Cancel
          </button>
          <button
            id="folder-save"
            class="px-3 py-1.5 text-[15px] bg-primary text-white rounded-[15px] hover:bg-blue-600 transition-colors"
          >
            Save
          </button>
        </div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div
      id="toast-container"
      class="fixed bottom-4 left-4 z-50 flex flex-col gap-2 pointer-events-none"
    ></div>

    <!-- Context Menu -->
    <div
      id="context-menu"
      class="hidden fixed bg-white dark:bg-[#2d2d2d] border border-gray-200 dark:border-white/10 rounded-[15px] shadow-xl z-50 w-40 py-1"
    ></div>

    <!-- Custom Tooltip -->
    <div
      id="custom-tooltip"
      class="hidden fixed z-[60] px-3 py-2 text-xs rounded-[8px] shadow-xl border pointer-events-none max-w-xs break-words bg-white text-gray-900 border-gray-200 dark:bg-[#2d2d2d] dark:text-white dark:border-white/10"
    ></div>
    <script src="sidepanel.js"></script>
  </body>
</html>
